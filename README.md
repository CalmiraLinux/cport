# cpkg2

cpkg2 - ответвление от cpkg, нацеленное на более быструю и стабильную работу и упрощённую работу с базой данных пакетов. Утилита полностью переписана

## Изменения

* Изменён `config` пакетов. Теперь вместо `sh`-скрипта используется `json`. Примерная структура такова:

```json
{
    "name": "имя_пакета",
    "version": "версия_пакета",
    "description": "описание_пакета",
    "priority": "user/system",
    "maintainer": "сборщик_пакета",
    "deps": {
        "require": "необходимые_зависимости",
        "recommend": "рекомендуемые_зависимости",
        "runtime": "runtime_зависимости",
        "optional": "опциональные_зависимости",
        "test": "зависимости, необходимые для тестирования",
        "conflict": "зависимости, с которым конфликтует исходный пакет",
    },
    "port": "false/true"
}
```

* Использование другой базы данных;
* Более простая структура;
* Использование Python вместо Shell;

## Использование в Calmira

Возможно, если выйдет стабильный релиз `cpkg2`, он войдёт в состав Calmira LX4 2.1 вместо обычного `cpkg`.

## В планах:

- [ ] Установка пакетов;
- [ ] Удаление пакетов;
- [Х] Просмотр информации о пакете;
- [X] Просмотр зависимостей пакета;
- [ ] Добавление port-пакетов;
- [ ] Защита от случайного удаления системных файлов;
- [ ] Добавление preremove и postremove скриптов;
- [ ] Добавление тестирования правильности установки/сборки пакета;
- [ ] Улучшенная документация ПМ.
